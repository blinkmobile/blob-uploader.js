/*
 * blob-uploader.js: v0.0.1 | https://github.com/blinkmobile/blob-uploader.js#readme
 * (c) 2017 BlinkMobile | Released under the MIT license
 */
!function(e,t){if("function"==typeof define&&define.amd)define(["module"],t);else if("undefined"!=typeof exports)t(module);else{var o={exports:{}};t(o),e.blobUploader=o.exports}}(this,function(e){"use strict";function t(e){if(!e)throw new TypeError("blobUploader expects a api URL during instansiation");o.set(this,{uri:e})}var o=new WeakMap;t.prototype.uploadBlob=function(e){var t=this;if(!e)return Promise.reject(new Error("blob argument not passed in"));var n=new Request(o.get(this).uri,{method:"POST",mode:"cors",redirect:"follow",headers:new Headers({"Content-Type":"text/plain"})});return fetch(n).then(function(e){return e.json()}).then(function(o){return t._uploadToS3(e,o.putUrl),o.id})},t.prototype._uploadToS3=function(e,t){var o=new Request(t,{method:"PUT",mode:"cors",redirect:"follow",body:e,headers:new Headers({"Content-Type":" "})});return fetch(o)},e.exports=t});